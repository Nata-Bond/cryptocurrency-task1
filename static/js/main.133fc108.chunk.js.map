{"version":3,"sources":["app.module.css","components/currTab/currTab.module.css","services/mergeByProperty.js","services/currencyAPI.js","components/currTab/CurrTab.js","App.js","index.js"],"names":["module","exports","mergeByProperty","target","source","prop","forEach","sourceElement","targetElement","find","Object","assign","push","baseURL","CRYPTO_LIST","getCurrencies","a","axios","get","join","responsePrices","currPrices","values","data","responseImg","currImg","responsePercChange","currPercChange","filter","symbol","indexOf","console","log","error","CurrTab","currencies","onSort","sort","sortField","TrendDirection","number","Math","sign","s","price_go_up","price_go_down","price_same","className","table","onClick","map","curr","index","src","logo","alt","name","width","height","link_to_curr","href","urls","website","rel","title","quote","USD","price","percent_change_1h","toFixed","percent_change_24h","percent_change_7d","id","App","state","sortedData","sortType","orderedData","_","orderBy","setState","apiCurr","then","result","b","catch","this","currSection","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.133fc108.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"currSection\":\"app_currSection__zcM09\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"currTab_table__bnuvS\",\"price_go_up\":\"currTab_price_go_up__3t74I\",\"price_go_down\":\"currTab_price_go_down__1Mqf9\",\"price_same\":\"currTab_price_same__36_B1\",\"link_to_curr\":\"currTab_link_to_curr__11qfk\"};","const mergeByProperty = (target, source, prop) => {\n  source.forEach((sourceElement) => {\n    let targetElement = target.find((targetElement) => {\n      return sourceElement[prop] === targetElement[prop];\n    });\n    targetElement\n      ? Object.assign(targetElement, sourceElement)\n      : target.push(sourceElement);\n  });\n};\n\n// eslint-disable-next-line\nexport { mergeByProperty };\n","import axios from \"axios\";\nimport { mergeByProperty } from \"./mergeByProperty\";\n\nconst baseURL = \"https://cmc-api-proxy-lmvbixv5b-spean92.vercel.app\";\nconst CRYPTO_LIST = [\"BTC\", \"DOGE\", \"ETH\"];\n\nconst getCurrencies = async () => {\n  try {\n    const responsePrices = await axios.get(\n      `${baseURL}/cryptocurrency/quotes/latest?symbol=${CRYPTO_LIST.join()}`\n    );\n    const currPrices = Object.values(responsePrices.data.data);\n\n    const responseImg = await axios.get(\n      `${baseURL}/cryptocurrency/info?symbol=${CRYPTO_LIST.join()}&aux=logo,urls`\n    );\n\n    const currImg = Object.values(responseImg.data.data);\n\n    const responsePercChange = await axios.get(\n      `${baseURL}/cryptocurrency/listings/latest`\n    );\n    const currPercChange = Object.values(responsePercChange.data.data).filter(\n      ({ symbol }) => CRYPTO_LIST.indexOf(symbol) !== -1\n    );\n\n    mergeByProperty(currPrices, currImg, \"symbol\");\n    mergeByProperty(currPrices, currPercChange, \"symbol\");\n\n    return currPrices;\n  } catch (error) {\n    console.log(\"error\", { error });\n    throw error;\n  }\n};\n\n// eslint-disable-next-line\nexport default {\n  getCurrencies,\n};\n","import React from \"react\";\nimport s from \"./currTab.module.css\";\n\nconst CurrTab = ({ currencies, onSort, sort, sortField }) => {\n  const TrendDirection = (number) => {\n    switch (Math.sign(number)) {\n      case 1:\n        return s.price_go_up;\n      case -1:\n        return s.price_go_down;\n      case 0:\n      default:\n        return s.price_same;\n    }\n  };\n  return (\n    <table className={s.table}>\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>icon</th>\n          <th>name</th>\n          <th onClick={() => onSort(\"quote.USD.price\")}>\n            price\n            {sortField === \"quote.USD.price\" ? <small>{sort}</small> : null}\n          </th>\n          <th onClick={() => onSort(\"quote.USD.percent_change_1h\")}>\n            changes 1h\n            {sortField === \"quote.USD.percent_change_1h\" ? (\n              <small>{sort}</small>\n            ) : null}\n          </th>\n          <th onClick={() => onSort(\"quote.USD.percent_change_24h\")}>\n            changes 24h\n            {sortField === \"quote.USD.percent_change_24h\" ? (\n              <small>{sort}</small>\n            ) : null}\n          </th>\n          <th onClick={() => onSort(\"quote.USD.percent_change_7d\")}>\n            changes 7d\n            {sortField === \"quote.USD.percent_change_7d\" ? (\n              <small>{sort}</small>\n            ) : null}\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {currencies.map((curr, index) => (\n          <tr key={curr.id}>\n            <td>{index + 1}</td>\n            <td>\n              <img src={curr.logo} alt={curr.name} width={20} height={20} />\n            </td>\n            <td>\n              <a\n                className={s.link_to_curr}\n                href={curr.urls.website[0]}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n                title=\"website of currency\"\n              >\n                {curr.name}\n              </a>\n            </td>\n            <td>{curr.quote.USD.price}</td>\n            <td className={TrendDirection(curr.quote.USD.percent_change_1h)}>\n              {curr.quote.USD.percent_change_1h.toFixed(2)} %\n            </td>\n            <td className={TrendDirection(curr.quote.USD.percent_change_24h)}>\n              {curr.quote.USD.percent_change_24h.toFixed(2)} %\n            </td>\n            <td className={TrendDirection(curr.quote.USD.percent_change_7d)}>\n              {curr.quote.USD.percent_change_7d.toFixed(2)} %\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default CurrTab;\n","import React, { Component } from \"react\";\nimport apiCurr from \"./services/currencyAPI\";\nimport CurrTab from \"./components/currTab/CurrTab\";\nimport s from \"./app.module.css\";\nimport _ from \"lodash\";\n\nexport default class App extends Component {\n  state = {\n    currencies: [],\n    error: null,\n    sort: \"asc\",\n    sortField: \"quote.USD.price\",\n  };\n\n  componentDidMount() {\n    apiCurr\n      .getCurrencies()\n      .then((result) =>\n        result.sort((a, b) => a.quote.USD.price - b.quote.USD.price)\n      )\n      .then((result) => this.setState({ currencies: result }))\n      .catch((error) => {\n        this.setState({ error: error });\n      });\n  }\n\n  sortedData = (sortField) => {\n    const sortType = this.state.sort === \"asc\" ? \"desc\" : \"asc\";\n    const orderedData = _.orderBy(this.state.currencies, sortField, sortType);\n    this.setState({\n      currencies: orderedData,\n      sort: sortType,\n      sortField,\n    });\n  };\n\n  render() {\n    const { currencies, sort, sortField } = this.state;\n    return (\n      <section className={s.currSection}>\n        <h1>OUR CURRENCIES</h1>\n        {\n          <CurrTab\n            currencies={currencies}\n            onSort={this.sortedData}\n            sort={sort}\n            sortField={sortField}\n          />\n        }\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}